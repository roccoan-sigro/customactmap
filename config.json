{
    "workflowApiVersion": "1.1",
    "metaData": {
        "icon": "images/icon.png",
        "category": "flow",
        "configOnDrop": true
    },
    "key": "seleziona-area-sulla-mappa",
    "type": "RestDecision",
    "lang": {
        "it-IT": {
            "name": "Seleziona Area sulla Mappa",
            "description": "Custom Split activity that makes a decision based on selected map area"
        }
    },
    "outcomes": [
        {
            "arguments": {
                "branchResult": "selectedMapArea"
            },
            "metaData": {
                "label": "Area Selezionata sulla Mappa"
            }
        },
        {
            "arguments": {
                "branchResult": "remainingContacts"
            },
            "metaData": {
                "label": "Contatti Esclusi"
            }
        }
    ],
    "userInterfaces": {
        "configInspector": {
            "size": "medium"
        }
    },
    "arguments": {
        "execute": {
            "inArguments": [
                { "SubscriberKey": "{{Contact.Attribute.JourneyEntrySource.SubscriberKey}}" },
                { "EmailAddress": "{{Contact.Attribute.JourneyEntrySource.EmailAddress}}" },
                { "Phone": "{{Contact.Attribute.JourneyEntrySource.Phone}}" },
                { "PersonMailingAddress": "{{Contact.Attribute.JourneyEntrySource.PersonMailingAddress}}" },
                { "minLatitude": "{{Interaction.Template.Configuration.minLatitude}}" },
                { "maxLatitude": "{{Interaction.Template.Configuration.maxLatitude}}" },
                { "minLongitude": "{{Interaction.Template.Configuration.minLongitude}}" },
                { "maxLongitude": "{{Interaction.Template.Configuration.maxLongitude}}" }
            ],
            "outArguments": [
                { "branchResult": "{{Event.Response.branchResult}}" }
            ],
            "url": "https://mappa-protezione-civile-7987e051c9db.herokuapp.com/",
            "verb": "POST",
            "format": "json",
            "useJwt": false,
            "timeout": 60,
            "retryCount": 5,
            "retryDelay": 100
        }
    }
}
