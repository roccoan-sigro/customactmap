{
    "workflowApiVersion": "1.1",
    "metaData": {
        "icon": "images/icon.png",
        "category": "flow",
        "configOnDrop": true
    },
    "key": "seleziona-area-sulla-mappa",
    "type": "RestDecision",
    "lang": {
        "it-IT": {
            "name": "Seleziona Area sulla Mappa",
            "description": "Custom Split activity that makes a decision based on selected map area"
        }
    },
    "outcomes": [
        {
            "arguments": {
                "branchResult": "selectedMapArea"
            },
            "metaData": {
                "label": "Area Selezionata sulla Mappa"
            }
        },
        {
            "arguments": {
                "branchResult": "remainingContacts"
            },
            "metaData": {
                "label": "Contatti Esclusi"
            }
        }
    ],
    "userInterfaces": {
        "configInspector": {
            "size": "large"
        }
    },
    "arguments": {
        "execute": {
            "inArguments": [
                { "SubscriberKey": "{{Contact.Key}}" },
                { "EmailAddress": "{{InteractionDefaults.Email}}" },
                { "Consenso": "{{Contact.Attribute.LongitudineLatitudine.Consenso}}" },
                { "Latitudine": "{{Contact.Attribute.LongitudineLatitudine.Latitudine}}" },
                { "Longitudine": "{{Contact.Attribute.LongitudineLatitudine.Longitudine}}" },
                { "minLatitude": "{{Interaction.Template.Configuration.minLatitude}}" },
                { "maxLatitude": "{{Interaction.Template.Configuration.maxLatitude}}" },
                { "minLongitude": "{{Interaction.Template.Configuration.minLongitude}}" },
                { "maxLongitude": "{{Interaction.Template.Configuration.maxLongitude}}" },
                { "consentFilter": "{{Interaction.Template.Configuration.consentFilter}}" }
            ],
            "outArguments": [],
            "url": "https://mappa-protezione-civile-7987e051c9db.herokuapp.com/execute",
            "verb": "POST",
            "format": "json",
            "useJwt": false
        }
    }
}
